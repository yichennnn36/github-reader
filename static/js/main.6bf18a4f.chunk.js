(this["webpackJsonpgithub-reader"]=this["webpackJsonpgithub-reader"]||[]).push([[0],{169:function(e,n,t){"use strict";t.r(n);var r,c,a,i,s,o,u=t(0),b=t(18),h=t.n(b),p=t(19),j=t(20),l=j.b.div(r||(r=Object(p.a)(["\n  height: 80px;\n  width: 100%;\n  padding: 0 14px;\n  background: black;\n  position: fixed;\n  z-index: 2;\n  top: 0;\n\n  & h2 {\n    line-height: 5rem;\n    color: #a9d992;\n  }\n"]))),d=t(7),x=function(){return Object(d.jsx)(l,{children:Object(d.jsx)("h2",{children:"Yichen's GitHub Data"})})},f=j.b.div(c||(c=Object(p.a)(["\n  background: black;\n  height: 50px;\n  text-align: center;\n\n  & span {\n    color: white;\n    line-height: 3rem;\n  }\n"]))),g=function(){return Object(d.jsx)(f,{children:Object(d.jsx)("span",{children:"Copyright \xa9 2021 Yichen Liu All rights reserved"})})},O=t(39),v=j.b.div(a||(a=Object(p.a)(["\n  margin: 120px auto 80px;\n  padding: 20px 100px;\n  min-height: 100%;\n"]))),m=j.b.div(i||(i=Object(p.a)(["\n  margin: 50px 0;\n"]))),w=j.b.div(s||(s=Object(p.a)(["\n  margin-bottom: 50px;\n\n  & .ant-card {\n    border: 3px solid #a9d992;\n    border-radius: 10px;\n  }\n  & .ant-card-head-title {\n    font-size: 20px;\n  }\n"]))),k=t(171),y=function(){return Object(d.jsx)(k.a,{loading:"true"})},D=t(22),z=t.n(D),A=t(64),_=t(36),E="https://api.github.com",I="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",L=function(){var e=Object(_.a)(z.a.mark((function e(n,t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(E,"/users/yichennnn36/repos?per_page=").concat(n,"&page=").concat(t),{headers:{Authorization:"Bearer ".concat(I),Accept:"application/vnd.github.v3+json"},method:"GET"});case 3:return r=e.sent,e.abrupt("return",r.json());case 7:e.prev=7,e.t0=e.catch(0),alert("\u64cd\u4f5c\u5931\u6557\uff0c\u767c\u751f\u932f\u8aa4"),console.log("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),R=function(){var e=Object(_.a)(z.a.mark((function e(){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(E,"/users/yichennnn36/repos"),{headers:{Authorization:"Bearer ".concat(I),Accept:"application/vnd.github.v3+json"},method:"GET"});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:e.prev=7,e.t0=e.catch(0),alert("\u64cd\u4f5c\u5931\u6557\uff0c\u767c\u751f\u932f\u8aa4"),console.log("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.useState)([]),n=Object(O.a)(e,2),t=n[0],r=n[1],c=Object(u.useState)(!0),a=Object(O.a)(c,2),i=a[0],s=a[1],o=Object(u.useRef)(1),b=Object(u.useRef)(0),h=Object(u.useCallback)((function(){var e=function(){var e=Object(_.a)(z.a.mark((function e(){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(4,o.current);case 2:if(0!==(n=e.sent).length){e.next=5;break}return e.abrupt("return",s(!1));case 5:console.log(n),setTimeout((function(){s(!1),r((function(e){return[].concat(Object(A.a)(e),Object(A.a)(n))}))}),500);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return Object(u.useEffect)((function(){h();var e=function(){var e=Object(_.a)(z.a.mark((function e(){var n,t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return n=e.sent,e.next=5,n.length;case 5:t=e.sent,b.current=Math.ceil(t/4);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[h]),{listData:t,isLoading:i,setIsLoading:s,pageRef:o,totalPage:b,getData:h}},G=function(){var e=Object(u.useRef)(),n=B(),t=n.listData,r=n.isLoading,c=n.setIsLoading,a=n.pageRef,i=n.totalPage,s=n.getData;return Object(u.useEffect)((function(){var n=new IntersectionObserver((function(e){if(Object(O.a)(e,1)[0].isIntersecting){if(a.current>=i.current)return;a.current++,c(!0),setTimeout((function(){s(),n.disconnect()}),500)}}),{options:null,rootMargin:"-20px",threshold:1});e.current&&n.observe(e.current)}),[e,t,s,a,c,i]),Object(d.jsxs)(v,{children:[Object(d.jsx)("h1",{children:"My GitHub public repos"}),Object(d.jsxs)(m,{children:[t.length>0&&t.map((function(n,r){return r+1===t.length?Object(d.jsx)(w,{ref:e,children:Object(d.jsxs)(k.a,{title:n.name,bordered:!1,children:[Object(d.jsxs)("p",{children:["Description\uff1a",n.description]}),Object(d.jsxs)("p",{children:["Url\uff1a",Object(d.jsx)("a",{href:n.html_url,children:n.html_url})]})]})},r):Object(d.jsx)(w,{children:Object(d.jsxs)(k.a,{title:n.name,bordered:!1,children:[Object(d.jsxs)("p",{children:["Description\uff1a",n.description]}),Object(d.jsxs)("p",{children:["Url\uff1a",Object(d.jsx)("a",{href:n.html_url,children:n.html_url})]})]})},r)})),r&&Object(d.jsx)(y,{})]})]})},T=Object(j.a)(o||(o=Object(p.a)(["\n  html, body {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n    width: 100%;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n  }\n  #root {\n    height: 100%;\n    width: 100%;\n  }\n"]))),M=(t(168),function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(T,{}),Object(d.jsx)(x,{}),Object(d.jsx)(G,{}),Object(d.jsx)(g,{})]})});h.a.render(Object(d.jsx)(M,{}),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.6bf18a4f.chunk.js.map