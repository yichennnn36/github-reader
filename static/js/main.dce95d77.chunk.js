(this["webpackJsonpgithub-reader"]=this["webpackJsonpgithub-reader"]||[]).push([[0],{172:function(e,n,t){"use strict";t.r(n);var r,c,a,i,s,o=t(0),u=t(18),b=t.n(u),h=t(19),p=t(20),d=p.b.div(r||(r=Object(h.a)(["\n  height: 80px;\n  width: 100%;\n  padding: 0 14px;\n  background: black;\n  position: fixed;\n  z-index: 2;\n  top: 0;\n\n  & h2 {\n    line-height: 5rem;\n    color: #a9d992;\n  }\n"]))),j=t(7),l=function(){return Object(j.jsx)(d,{children:Object(j.jsx)("h2",{children:"Yichen's GitHub Data"})})},x=p.b.div(c||(c=Object(h.a)(["\n  background: black;\n  height: 50px;\n  text-align: center;\n\n  & span {\n    color: white;\n    line-height: 3rem;\n  }\n"]))),f=function(){return Object(j.jsx)(x,{children:Object(j.jsx)("span",{children:"Copyright \xa9 2021 Yichen Liu All rights reserved"})})},g=t(39),O=p.b.div(a||(a=Object(h.a)(["\n  margin: 120px auto 80px;\n  padding: 20px 100px;\n  min-height: 100%;\n"]))),v=p.b.div(i||(i=Object(h.a)(["\n  margin: 50px 0;\n"]))),m=p.b.div(s||(s=Object(h.a)(["\n  margin-bottom: 50px;\n\n  & .ant-card {\n    border: 3px solid #a9d992;\n    border-radius: 10px;\n  }\n  & .ant-card-head-title {\n    font-size: 20px;\n  }\n"]))),w=t(174),k=function(){return Object(j.jsx)(w.a,{loading:"true"})},y=t(22),z=t.n(y),D=t(65),A=t(36);t(168).config();var E,L="https://api.github.com",_="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",I=function(){var e=Object(A.a)(z.a.mark((function e(n,t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/users/yichennnn36/repos?per_page=").concat(n,"&page=").concat(t),{headers:{Authorization:"Bearer ".concat(_),Accept:"application/vnd.github.v3+json"},method:"GET"});case 3:return r=e.sent,e.abrupt("return",r.json());case 7:e.prev=7,e.t0=e.catch(0),alert("\u64cd\u4f5c\u5931\u6557\uff0c\u767c\u751f\u932f\u8aa4"),console.log("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),R=function(){var e=Object(A.a)(z.a.mark((function e(){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/users/yichennnn36/repos"),{headers:{Authorization:"Bearer ".concat(_),Accept:"application/vnd.github.v3+json"},method:"GET"});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:e.prev=7,e.t0=e.catch(0),alert("\u64cd\u4f5c\u5931\u6557\uff0c\u767c\u751f\u932f\u8aa4"),console.log("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(o.useState)([]),n=Object(g.a)(e,2),t=n[0],r=n[1],c=Object(o.useState)(!0),a=Object(g.a)(c,2),i=a[0],s=a[1],u=Object(o.useRef)(1),b=Object(o.useRef)(0),h=Object(o.useCallback)((function(){var e=function(){var e=Object(A.a)(z.a.mark((function e(){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(4,u.current);case 2:if(0!==(n=e.sent).length){e.next=5;break}return e.abrupt("return",s(!1));case 5:console.log(n),setTimeout((function(){s(!1),r((function(e){return[].concat(Object(D.a)(e),Object(D.a)(n))}))}),500);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return Object(o.useEffect)((function(){h();var e=function(){var e=Object(A.a)(z.a.mark((function e(){var n,t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return n=e.sent,e.next=5,n.length;case 5:t=e.sent,b.current=Math.ceil(t/4);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[h]),{listData:t,isLoading:i,setIsLoading:s,pageRef:u,totalPage:b,getData:h}},B=function(){var e=Object(o.useRef)(),n=T(),t=n.listData,r=n.isLoading,c=n.setIsLoading,a=n.pageRef,i=n.totalPage,s=n.getData;return Object(o.useEffect)((function(){var n=new IntersectionObserver((function(e){if(Object(g.a)(e,1)[0].isIntersecting){if(a.current>=i.current)return;a.current++,c(!0),setTimeout((function(){s(),n.disconnect()}),500)}}),{options:null,rootMargin:"-20px",threshold:1});e.current&&n.observe(e.current)}),[e,t,s,a,c,i]),Object(j.jsxs)(O,{children:[Object(j.jsx)("h1",{children:"My GitHub public repos"}),Object(j.jsxs)(v,{children:[t.length>0&&t.map((function(n,r){return r+1===t.length?Object(j.jsx)(m,{ref:e,children:Object(j.jsxs)(w.a,{title:n.name,bordered:!1,children:[Object(j.jsxs)("p",{children:["Description\uff1a",n.description]}),Object(j.jsxs)("p",{children:["Url\uff1a",Object(j.jsx)("a",{href:n.html_url,children:n.html_url})]})]})},r):Object(j.jsx)(m,{children:Object(j.jsxs)(w.a,{title:n.name,bordered:!1,children:[Object(j.jsxs)("p",{children:["Description\uff1a",n.description]}),Object(j.jsxs)("p",{children:["Url\uff1a",Object(j.jsx)("a",{href:n.html_url,children:n.html_url})]})]})},r)})),r&&Object(j.jsx)(k,{})]})]})},G=Object(p.a)(E||(E=Object(h.a)(["\n  html, body {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n    width: 100%;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n  }\n  #root {\n    height: 100%;\n    width: 100%;\n  }\n"]))),M=(t(171),function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(G,{}),Object(j.jsx)(l,{}),Object(j.jsx)(B,{}),Object(j.jsx)(f,{})]})});b.a.render(Object(j.jsx)(M,{}),document.getElementById("root"))}},[[172,1,2]]]);
//# sourceMappingURL=main.dce95d77.chunk.js.map