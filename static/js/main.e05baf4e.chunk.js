(this["webpackJsonpgithub-reader"]=this["webpackJsonpgithub-reader"]||[]).push([[0],{169:function(e,t,n){"use strict";n.r(t);var r,c,a,i,s,u,o=n(0),b=n(19),p=n.n(b),h=n(20),l=n(21),j=l.b.div(r||(r=Object(h.a)(["\n  height: 80px;\n  width: 100%;\n  padding: 0 14px;\n  background: black;\n  position: fixed;\n  z-index: 2;\n  top: 0;\n\n  & h2 {\n    line-height: 5rem;\n    color: #a9d992;\n  }\n"]))),d=n(7),x=function(){return Object(d.jsx)(j,{children:Object(d.jsx)("h2",{children:"Yichen's GitHub List"})})},f=l.b.div(c||(c=Object(h.a)(["\n  background: black;\n  height: 50px;\n  text-align: center;\n\n  & span {\n    color: white;\n    line-height: 3rem;\n  }\n"]))),O=function(){return Object(d.jsx)(f,{children:Object(d.jsx)("span",{children:"Copyright \xa9 2021 Yichen Liu All rights reserved"})})},g=n(37),v=l.b.div(a||(a=Object(h.a)(["\n  margin: 120px auto 80px;\n  padding: 20px 100px;\n  min-height: 100%;\n"]))),m=l.b.div(i||(i=Object(h.a)(["\n  margin: 50px 0;\n"]))),k=l.b.div(s||(s=Object(h.a)(["\n  margin-bottom: 50px;\n\n  & .ant-card {\n    border: 3px solid #a9d992;\n    border-radius: 10px;\n  }\n  & .ant-card-head-title {\n    font-size: 20px;\n  }\n"]))),w=n(171),y=function(){return Object(d.jsx)(w.a,{loading:"true"})},z=n(64),D=n(18),L=n.n(D),I=n(31),R="https://api.github.com",_="yichennnn36",A=function(){var e=Object(I.a)(L.a.mark((function e(t,n){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(R,"/users/").concat(_,"/repos?per_page=").concat(t,"&page=").concat(n),{headers:{Accept:"application/vnd.github.v3+json"}});case 3:if(!((r=e.sent).status>=200&&r.status<400)){e.next=6;break}return e.abrupt("return",r.json());case 6:return e.abrupt("return");case 9:e.prev=9,e.t0=e.catch(0),alert("\u64cd\u4f5c\u5931\u6557\uff0c\u767c\u751f\u932f\u8aa4");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(I.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(R,"/users/").concat(_,"/repos"),{headers:{Accept:"application/vnd.github.v3+json"}});case 3:if(!((t=e.sent).status>=200&&t.status<400)){e.next=6;break}return e.abrupt("return",t.json());case 6:return e.abrupt("return");case 9:e.prev=9,e.t0=e.catch(0),alert("\u64cd\u4f5c\u5931\u6557\uff0c\u767c\u751f\u932f\u8aa4");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(o.useState)([]),t=Object(g.a)(e,2),n=t[0],r=t[1],c=Object(o.useState)(!0),a=Object(g.a)(c,2),i=a[0],s=a[1],u=Object(o.useRef)(1),b=Object(o.useRef)(0),p=function(){var e=Object(I.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(4,u.current);case 3:if(0!==(t=e.sent).length){e.next=6;break}return e.abrupt("return",s(!1));case 6:return e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(I.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:return t=e.sent,e.next=6,t.length;case 6:n=e.sent,b.current=Math.ceil(n/4),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),l=Object(o.useCallback)((function(){var e=function(){var e=Object(I.a)(L.a.mark((function e(){var t,n,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([p(),h()]);case 3:if(t=e.sent,n=Object(g.a)(t,1),0!==(c=n[0]).length){e.next=8;break}return e.abrupt("return",s(!1));case 8:setTimeout((function(){s(!1),r((function(e){return[].concat(Object(z.a)(e),Object(z.a)(c))}))}),500),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert("\u767c\u751f\u932f\u8aa4");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);return Object(o.useEffect)((function(){l()}),[l]),{listData:n,isLoading:i,setIsLoading:s,pageRef:u,totalPage:b,getData:l}},P=function(){var e=Object(o.useRef)(),t=M(),n=t.listData,r=t.isLoading,c=t.setIsLoading,a=t.pageRef,i=t.totalPage,s=t.getData;return Object(o.useEffect)((function(){var t=new IntersectionObserver((function(e){if(Object(g.a)(e,1)[0].isIntersecting){if(a.current>=i.current)return;a.current++,c(!0),setTimeout((function(){s(),t.disconnect()}),500)}}),{options:null,rootMargin:"-20px",threshold:1});e.current&&t.observe(e.current)}),[e,n,s,a,c,i]),Object(d.jsxs)(v,{children:[Object(d.jsx)("h1",{children:"My GitHub public repos"}),Object(d.jsxs)(m,{children:[n.length>0&&n.map((function(t,r){return r+1===n.length?Object(d.jsx)(k,{ref:e,children:Object(d.jsxs)(w.a,{title:t.name,bordered:!1,children:[Object(d.jsxs)("p",{children:["Description\uff1a",t.description]}),Object(d.jsxs)("p",{children:["Url\uff1a",Object(d.jsx)("a",{href:t.html_url,children:t.html_url})]})]})},r):Object(d.jsx)(k,{children:Object(d.jsxs)(w.a,{title:t.name,bordered:!1,children:[Object(d.jsxs)("p",{children:["Description\uff1a",t.description]}),Object(d.jsxs)("p",{children:["Url\uff1a",Object(d.jsx)("a",{href:t.html_url,children:t.html_url})]})]})},r)})),r&&Object(d.jsx)(y,{})]})]})},C=Object(l.a)(u||(u=Object(h.a)(["\n  html, body {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n    width: 100%;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n  }\n  #root {\n    height: 100%;\n    width: 100%;\n  }\n"]))),G=(n(168),function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(C,{}),Object(d.jsx)(x,{}),Object(d.jsx)(P,{}),Object(d.jsx)(O,{})]})});p.a.render(Object(d.jsx)(G,{}),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.e05baf4e.chunk.js.map